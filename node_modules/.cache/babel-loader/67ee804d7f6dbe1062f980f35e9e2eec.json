{"ast":null,"code":"var _jsxFileName = \"/Users/ashankdsouza/repos/Estate Asset Management/Front-end/src/App.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport HomePage from './components/home/HomePage';\nimport AboutPage from './components/about/AboutPage';\nimport LoginPage from './components/login/LoginPage';\nimport GamesPage from './components/games/GamesPage';\nimport TopBar from './components/layout/TopBar';\nimport PrivateRoute from './components/router/PrivateRoute';\nimport RouteWithProps from './components/router/RouteWithProps';\nimport * as authentication from './services/authentication';\nimport '../node_modules/picnic/picnic.min.css';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    let authState = authentication.getAuthState();\n    this.state = {\n      auth: {\n        loggedIn: authState.userToken !== null,\n        username: authState.username,\n        userToken: authState.userToken,\n        role: authState.role\n      }\n    };\n    this.login = this.login.bind(this);\n    this.logout = this.logout.bind(this);\n  }\n\n  getChildContext() {\n    return {\n      auth: {\n        loggedIn: this.state.auth.loggedIn,\n        username: this.state.auth.username,\n        userToken: this.state.auth.userToken,\n        role: this.state.auth.role\n      }\n    };\n  }\n\n  login(username, password) {\n    return authentication.login(username, password).then(result => {\n      this.setState({\n        auth: { ...this.state.auth,\n          loggedIn: true,\n          username: result.username,\n          userToken: result.userToken,\n          role: result.role\n        }\n      });\n    }).catch(err => {\n      this._logout();\n\n      return Promise.reject(err);\n    });\n  }\n\n  logout() {\n    return authentication.logout().then(result => {\n      this._logout();\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Router, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Switch, {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/login\",\n            component: LoginPage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/sign-up\",\n            component: SignUpPage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/forgot-password\",\n            component: PasswordRecoverPage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/password-reset\",\n            component: PasswordResetPage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n            path: \"/home-page\",\n            children: [\" \", /*#__PURE__*/_jsxDEV(MapUser, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 47\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }, this);\n  }\n\n  _logout() {\n    this.setState({\n      auth: { ...this.state.auth,\n        loggedIn: false,\n        username: null,\n        userToken: null,\n        role: null\n      }\n    });\n  }\n\n}\n\nApp.childContextTypes = {\n  auth: PropTypes.shape({\n    loggedIn: PropTypes.bool,\n    username: PropTypes.string,\n    userToken: PropTypes.string,\n    role: PropTypes.string\n  })\n};\nexport default App;","map":{"version":3,"sources":["/Users/ashankdsouza/repos/Estate Asset Management/Front-end/src/App.js"],"names":["React","PropTypes","BrowserRouter","Router","Route","Switch","HomePage","AboutPage","LoginPage","GamesPage","TopBar","PrivateRoute","RouteWithProps","authentication","App","Component","constructor","authState","getAuthState","state","auth","loggedIn","userToken","username","role","login","bind","logout","getChildContext","password","then","result","setState","catch","err","_logout","Promise","reject","render","SignUpPage","PasswordRecoverPage","PasswordResetPage","childContextTypes","shape","bool","string"],"mappings":"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","sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch\n} from 'react-router-dom'\n\nimport HomePage from './components/home/HomePage'\nimport AboutPage from './components/about/AboutPage'\nimport LoginPage from './components/login/LoginPage'\nimport GamesPage from './components/games/GamesPage'\nimport TopBar from './components/layout/TopBar'\nimport PrivateRoute from './components/router/PrivateRoute'\nimport RouteWithProps from './components/router/RouteWithProps'\nimport * as authentication from './services/authentication'\nimport '../node_modules/picnic/picnic.min.css'\nimport './App.css'\n\nclass App extends React.Component {\n  constructor () {\n    super()\n\n    let authState = authentication.getAuthState()\n    this.state = {\n      auth: {\n        loggedIn: authState.userToken !== null,\n        username: authState.username,\n        userToken: authState.userToken,\n        role: authState.role\n      }\n    }\n\n    this.login = this.login.bind(this)\n    this.logout = this.logout.bind(this)\n  }\n\n  getChildContext () {\n    return {\n      auth: {\n        loggedIn: this.state.auth.loggedIn,\n        username: this.state.auth.username,\n        userToken: this.state.auth.userToken,\n        role: this.state.auth.role\n      }\n    }\n  }\n\n  login (username, password) {\n    return authentication.login(username, password)\n        .then(result => {\n          this.setState({\n            auth: {\n              ...this.state.auth,\n              loggedIn: true,\n              username: result.username,\n              userToken: result.userToken,\n              role: result.role\n            }\n          })\n        })\n        .catch(err => {\n          this._logout()\n          return Promise.reject(err)\n        })\n  }\n\n  logout () {\n    return authentication.logout().then(result => {\n      this._logout()\n    })\n  }\n\n  render () {\n    return (\n        <Router>\n        <div>\n\n          <Switch>\n            <Route exact path=\"/login\" component={LoginPage}  >\n            </Route>\n            <Route path=\"/sign-up\" component={SignUpPage}>\n            </Route>\n            <Route path=\"/forgot-password\" component={PasswordRecoverPage}>\n            </Route>\n            <Route path=\"/password-reset\" component={PasswordResetPage}>\n            </Route>\n            <PrivateRoute path=\"/home-page\" > <MapUser/></PrivateRoute>\n\n          </Switch>\n        </div>\n      </Router>\n    )\n  }\n\n  _logout () {\n    this.setState({\n      auth: {\n        ...this.state.auth,\n        loggedIn: false,\n        username: null,\n        userToken: null,\n        role: null\n      }\n    })\n  }\n\n}\n\nApp.childContextTypes = {\n  auth: PropTypes.shape({\n    loggedIn: PropTypes.bool,\n    username: PropTypes.string,\n    userToken: PropTypes.string,\n    role: PropTypes.string\n  })\n}\n\nexport default App"]},"metadata":{},"sourceType":"module"}