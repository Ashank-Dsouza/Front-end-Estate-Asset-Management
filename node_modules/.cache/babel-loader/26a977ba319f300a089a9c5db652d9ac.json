{"ast":null,"code":"var _jsxFileName = \"/Users/ashankdsouza/repos/Estate Asset Management/Front-end/src/App.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport HomePage from './components/home/HomePage';\nimport AboutPage from './components/about/AboutPage';\nimport NotFoundPage from './components/NotFoundPage';\nimport LoginPage from './components/login/LoginPage';\nimport GamesPage from './components/games/GamesPage';\nimport TopBar from './components/layout/TopBar';\nimport PrivateRoute from './components/router/PrivateRoute';\nimport RouteWithProps from './components/router/RouteWithProps';\nimport * as authentication from './services/authentication';\nimport '../node_modules/picnic/picnic.min.css';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    let authState = authentication.getAuthState();\n    this.state = {\n      auth: {\n        loggedIn: authState.userToken !== null,\n        username: authState.username,\n        userToken: authState.userToken,\n        role: authState.role\n      }\n    };\n    this.login = this.login.bind(this);\n    this.logout = this.logout.bind(this);\n  }\n\n  getChildContext() {\n    return {\n      auth: {\n        loggedIn: this.state.auth.loggedIn,\n        username: this.state.auth.username,\n        userToken: this.state.auth.userToken,\n        role: this.state.auth.role\n      }\n    };\n  }\n\n  login(username, password) {\n    return authentication.login(username, password).then(result => {\n      this.setState({\n        auth: { ...this.state.auth,\n          loggedIn: true,\n          username: result.username,\n          userToken: result.userToken,\n          role: result.role\n        }\n      });\n    }).catch(err => {\n      this._logout();\n\n      return Promise.reject(err);\n    });\n  }\n\n  logout() {\n    return authentication.logout().then(result => {\n      this._logout();\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Router, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(TopBar, {\n          logout: this.logout\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mainbody\",\n          children: /*#__PURE__*/_jsxDEV(Switch, {\n            children: [/*#__PURE__*/_jsxDEV(Route, {\n              path: \"/\",\n              exact: true,\n              component: HomePage\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/about\",\n              component: AboutPage\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(RouteWithProps, {\n              path: \"/login\",\n              component: LoginPage,\n              props: {\n                login: this.login\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(RouteWithProps, {\n              path: \"/notloggedin\",\n              component: LoginPage,\n              props: {\n                login: this.login\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(PrivateRoute, {\n              path: \"/games\",\n              component: GamesPage\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              component: NotFoundPage\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this);\n  }\n\n  _logout() {\n    this.setState({\n      auth: { ...this.state.auth,\n        loggedIn: false,\n        username: null,\n        userToken: null,\n        role: null\n      }\n    });\n  }\n\n}\n\nApp.childContextTypes = {\n  auth: PropTypes.shape({\n    loggedIn: PropTypes.bool,\n    username: PropTypes.string,\n    userToken: PropTypes.string,\n    role: PropTypes.string\n  })\n};\nexport default App;","map":{"version":3,"sources":["/Users/ashankdsouza/repos/Estate Asset Management/Front-end/src/App.js"],"names":["React","PropTypes","BrowserRouter","Router","Route","Switch","HomePage","AboutPage","NotFoundPage","LoginPage","GamesPage","TopBar","PrivateRoute","RouteWithProps","authentication","App","Component","constructor","authState","getAuthState","state","auth","loggedIn","userToken","username","role","login","bind","logout","getChildContext","password","then","result","setState","catch","err","_logout","Promise","reject","render","childContextTypes","shape","bool","string"],"mappings":"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","sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch\n} from 'react-router-dom'\n\nimport HomePage from './components/home/HomePage'\nimport AboutPage from './components/about/AboutPage'\nimport NotFoundPage from './components/NotFoundPage'\nimport LoginPage from './components/login/LoginPage'\nimport GamesPage from './components/games/GamesPage'\nimport TopBar from './components/layout/TopBar'\nimport PrivateRoute from './components/router/PrivateRoute'\nimport RouteWithProps from './components/router/RouteWithProps'\nimport * as authentication from './services/authentication'\nimport '../node_modules/picnic/picnic.min.css'\nimport './App.css'\n\nclass App extends React.Component {\n  constructor () {\n    super()\n\n    let authState = authentication.getAuthState()\n    this.state = {\n      auth: {\n        loggedIn: authState.userToken !== null,\n        username: authState.username,\n        userToken: authState.userToken,\n        role: authState.role\n      }\n    }\n\n    this.login = this.login.bind(this)\n    this.logout = this.logout.bind(this)\n  }\n\n  getChildContext () {\n    return {\n      auth: {\n        loggedIn: this.state.auth.loggedIn,\n        username: this.state.auth.username,\n        userToken: this.state.auth.userToken,\n        role: this.state.auth.role\n      }\n    }\n  }\n\n  login (username, password) {\n    return authentication.login(username, password)\n        .then(result => {\n          this.setState({\n            auth: {\n              ...this.state.auth,\n              loggedIn: true,\n              username: result.username,\n              userToken: result.userToken,\n              role: result.role\n            }\n          })\n        })\n        .catch(err => {\n          this._logout()\n          return Promise.reject(err)\n        })\n  }\n\n  logout () {\n    return authentication.logout().then(result => {\n      this._logout()\n    })\n  }\n\n  render () {\n    return (\n      <Router>\n        <div>\n          <TopBar logout={this.logout} />\n          <div className='mainbody'>\n            <Switch>\n              <Route path='/' exact component={HomePage} />\n              <Route path='/about' component={AboutPage} />\n              <RouteWithProps path='/login' component={LoginPage} props={{ login: this.login }} />\n              <RouteWithProps path='/notloggedin' component={LoginPage} props={{ login: this.login }} />\n              <PrivateRoute path='/games' component={GamesPage} />\n              <Route component={NotFoundPage} />\n            </Switch>\n          </div>\n        </div>\n      </Router>\n    )\n  }\n\n  _logout () {\n    this.setState({\n      auth: {\n        ...this.state.auth,\n        loggedIn: false,\n        username: null,\n        userToken: null,\n        role: null\n      }\n    })\n  }\n\n}\n\nApp.childContextTypes = {\n  auth: PropTypes.shape({\n    loggedIn: PropTypes.bool,\n    username: PropTypes.string,\n    userToken: PropTypes.string,\n    role: PropTypes.string\n  })\n}\n\nexport default App"]},"metadata":{},"sourceType":"module"}